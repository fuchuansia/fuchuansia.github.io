(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{456:function(e,t,n){"use strict";var a=n(135),i=n.n(a),r=n(133),o=n.n(r),l=n(21),c=n.n(l),s=n(47),u=n.n(s),d=n(469),m=n.n(d),p=n(476),f=n.n(p),g=n(131),h=n(0),w=n.n(h),v=n(480),b=(n(477),n(448));function x(e){return null===e||void 0===e}var y=n(473);function k(e){var t=e.columnList,n=e.rows,a=e.serverSideData,r=e.showPageSizeOptions,l=(e.onPageSizeChange,e.loading),s=f()(e,["columnList","rows","serverSideData","showPageSizeOptions","onPageSizeChange","loading"]),d=a||{},p=d.pageNumber,g=d.pageSize,v=d.totalPageCount,b=d.toPage,x=Object(h.useState)({loading:!1}),k=m()(x,2),P=k[0],O=k[1],z=Object(h.useCallback)(function(){var e=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O({loading:!0}),e.next=3,b(t);case 3:O({loading:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[b,O]);return w.a.createElement(E,null,w.a.createElement(C,i()({},s,{data:n,columns:t.map(function(e,t){return o()({Cell:e.Cell?e.Cell:j,Header:e.title,id:e.key,accessor:e.key},e.widthRange?{minWidth:e.widthRange[0],maxWidth:e.widthRange[1]}:{},e.filter?{filterMethod:"function"===typeof e.filter?e.filter:function(t,n){t.id;var a=t.value;return Object(y.a)(n,a,{keys:[e.key]})},filterAll:!0}:{filterable:!1})})},a?{manual:!0,page:p,pageSize:g,pages:v,onPageChange:z}:{},{filterable:!0,showPageSizeOptions:!!r,loading:P.loading||l,previousText:"\u4e0a\u4e00\u9875",nextText:"\u4e0b\u4e00\u9875",loadingText:"\u6b63\u5728\u52a0\u8f7d",noDataText:"\u65e0\u6570\u636e",pageText:"\u9875\u6570",ofText:"\u603b\u5171",rowsText:"\u884c"})))}n.d(t,"a",function(){return k});var E=g.a.div.withConfig({displayName:"DataTable___DataTable",componentId:"sc-184mkp0-0"})(["position:relative;background-color:#ffffff;box-shadow:0px 0px 8px #b0b0b0;"]),C=Object(g.a)(v.a).withConfig({displayName:"DataTable___ReactTable",componentId:"sc-184mkp0-1"})(["width:100%;height:100%;"]),P=function(e){return function(t){return w.a.createElement(b.a,null,function(){return w.a.createElement("span",null,e(t))})}},j=P(function(e){return w.a.createElement("span",{style:{color:e.original[e.column.id]?"#000":"#A9A9A9"}},x(e.original[e.column.id])?"\u65e0":e.original[e.column.id])});P(function(e){return w.a.createElement("div",{style:{color:e.original[e.column.id]?"#000":"#A9A9A9"},contentEditable:!0},x(e.original[e.column.id])?"\u65e0":e.original[e.column.id])})},478:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(133),i=n.n(a),r=n(63),o=n.n(r),l=n(64),c=n.n(l),s=n(65),u=n.n(s),d=n(66),m=n.n(d),p=n(68),f=n.n(p),g=n(67),h=n.n(g),w=n(0),v=n(55),b=n.n(v),x=n(131),y=function(e){function t(e){var n;return o()(this,t),(n=u()(this,m()(t).call(this,e))).state={display:"none"},n.show=n.show.bind(f()(n)),n.hide=n.hide.bind(f()(n)),n}return h()(t,e),c()(t,[{key:"show",value:function(){this.setState(function(e){return i()({},e,{display:"flex"})})}},{key:"hide",value:function(){this.setState(function(e){return i()({},e,{display:"none"})})}},{key:"render",value:function(){var e=this;return w.createElement(k,{style:i()({display:this.state.display},this.props.zIndex?{zIndex:this.props.zIndex}:{}),onClick:function(t){t.preventDefault(),t.stopPropagation(),e.hide()}},w.createElement("div",{className:"shadow",style:{width:this.props.width,height:"fit-content",backgroundColor:"#ffffff",position:"relative",padding:"1em",marginTop:.1*window.innerHeight,marginLeft:"auto",marginRight:"auto",marginBottom:.1*window.innerHeight},onClick:function(e){e.preventDefault(),e.stopPropagation()}},w.createElement("div",{className:"close-x",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.hide()}},w.createElement("a",null,"\xd7")),this.props.children))}}],[{key:"show",value:function(e,n,a){t.nextId++;var i=window.document,r=i.getElementById("fc-modal-yndhsjfcuh"+t.nextId);r||((r=i.createElement("div")).id="fc-modal-yndhsjfcuh"+t.nextId,i.getElementsByTagName("body")[0].appendChild(r));var o=this,l=w.createElement(t,{width:n,ref:function(e){return o.modal=e},zIndex:a},e);return b.a.render(l,r,function(){o.modal.show()}),function(){o.modal.hide(),setTimeout(function(){b.a.unmountComponentAtNode(r),setTimeout(function(){r.parentElement.removeChild(r)},300)},300)}}}]),t}(w.Component);y.nextId=0;var k=x.a.div.withConfig({displayName:"Modal___Modal",componentId:"sc-1lq5fhq-0"})(["overflow:auto;width:100%;height:100%;position:fixed;left:0;top:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,0.5);.shadow{-moz-box-shadow:0px 0px 20px #333333;-webkit-box-shadow:0px 0px 20px #333333;box-shadow:0px 0px 20px #333333;}.close-x{position:absolute;right:0;top:0;width:30px;height:30px;color:#aaaaaa;font-size:30px;display:flex;justify-content:center;align-items:center;z-index:100000000;}"])},886:function(e,t,n){"use strict";n.r(t);n(460);var a=n(468),i=(n(613),n(623)),r=n(21),o=n.n(r),l=(n(457),n(458)),c=n(47),s=n.n(c),u=n(0),d=n.n(u),m=n(448),p=n(455),f=n(459),g=n(62),h=n(456),w=n(131),v=n(478),b=Object(m.b)(function(e){e.children;var t=Object(m.c)({rows:[],loading:!1});Object(u.useEffect)(function(){s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,f.a.allGXPrice();case 3:"ok"===(n=e.sent).state?t.rows=Object(g.e)(n.list):l.a.error(n.msg),t.loading=!1;case 6:case"end":return e.stop()}},e)}))()},[]);var r=Object(u.useCallback)(s()(o.a.mark(function e(){var a,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.a.loading("\u6b63\u5728\u52a0\u8f7dExcel\u6a21\u5757",0),e.next=3,Promise.all([n.e(6),n.e(7)]).then(n.bind(null,508));case 3:i=e.sent,r=i.XlsxHelper,a(),r.fromJson([{data:t.rows.map(function(e){return{"\u4ea7\u54c1\u540d\u79f0":e.A1,"\u5de5\u5e8f\u540d\u79f0":e.A2,"\u4ef7\u683c":e.P1,"\u4ea7\u54c1\u5b9a\u989d":e.P2}}),opts:{header:["\u4ea7\u54c1\u540d\u79f0","\u5de5\u5e8f\u540d\u79f0","\u4ef7\u683c","\u4ea7\u54c1\u5b9a\u989d"]},sheetName:"\u5de5\u5e8f\u4ef7\u683c"}]).download("\u5de5\u5e8f\u4ef7\u683c");case 8:case"end":return e.stop()}},e)})),[]),c=Object(u.useCallback)(function(e){return s()(o.a.mark(function t(){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(m.b)(function(){var t=Object(m.c)({price:e.P1,quota:e.P2,submiting:!1}),n=function(){var n=s()(o.a.mark(function n(){var a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.submiting=!0,n.next=3,f.a.updateGXPrice(e.ID,t.price,t.quota);case 3:"ok"===(a=n.sent).state?(l.a.success("\u66f4\u65b0\u6210\u529f"),Object(g.f)(function(){e.P1=t.price,e.P2=t.quota}),r()):l.a.error(a.msg),t.submiting=!1;case 6:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return d.a.createElement("div",{style:{padding:"1rem"}},d.a.createElement("div",{style:{marginBottom:"1rem"}},"\u4ea7\u54c1\u540d\u79f0\uff1a",d.a.createElement("b",null,e.A1)),d.a.createElement("div",{style:{marginBottom:"1rem"}},"\u5de5\u5e8f\u540d\u79f0\uff1a",d.a.createElement("b",null,e.A2)),d.a.createElement("div",{style:{marginBottom:"1rem"}},"\u4ef7\u683c\uff1a",d.a.createElement(i.a,{value:t.price||0,onChange:function(e){return t.price=e||null}})),d.a.createElement("div",{style:{marginBottom:"1rem"}},"\u4ea7\u54c1\u5b9a\u989d\uff1a",d.a.createElement(i.a,{value:t.quota||0,onChange:function(e){return t.quota=e||null}})),d.a.createElement("div",null,d.a.createElement(a.a,{type:"primary",onClick:n,loading:t.submiting},"\u63d0\u4ea4")))}),r=v.a.show(d.a.createElement(n,null),"80%");case 2:case"end":return t.stop()}},t)}))},[]);return d.a.createElement(p.a,null,d.a.createElement(x,null,d.a.createElement(a.a,{onClick:r,disabled:t.loading},"\u5bfc\u51faExcel")),d.a.createElement(h.a,{columnList:[{title:"\u64cd\u4f5c",key:"ID",Cell:function(e,t){return d.a.createElement(a.a.Group,null,d.a.createElement(a.a,{size:"small",onClick:c(e.original)},"\u66f4\u65b0"))}},{title:"\u4ea7\u54c1\u540d\u79f0",key:"A1",filter:!0},{title:"\u5de5\u5e8f\u540d\u79f0",key:"A2",filter:!0},{title:"\u4ef7\u683c",key:"P1",filter:!0},{title:"\u4ea7\u54c1\u5b9a\u989d",key:"P2",filter:!0}],rows:t.rows.slice(),pageSize:10,loading:t.loading}))});t.default=b;var x=w.a.div.withConfig({displayName:"ProcessPriceManagement___Actions",componentId:"sc-2tj31r-0"})(["margin-bottom:1rem;display:flex;"]);Object(m.b)(function(e){e.onAddOk,Object(m.c)({});return d.a.createElement(x,null)})}}]);