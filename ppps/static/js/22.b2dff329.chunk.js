(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{459:function(e,t,n){"use strict";var a=n(135),i=n.n(a),r=n(133),o=n.n(r),l=n(21),c=n.n(l),s=n(47),u=n.n(s),d=n(468),m=n.n(d),p=n(480),f=n.n(p),h=n(131),g=n(0),w=n.n(g),v=n(483),x=(n(481),n(448));function b(e){return null===e||void 0===e}var k=n(472);function y(e){var t=e.columnList,n=e.rows,a=e.serverSideData,r=e.showPageSizeOptions,l=(e.onPageSizeChange,e.loading),s=f()(e,["columnList","rows","serverSideData","showPageSizeOptions","onPageSizeChange","loading"]),d=a||{},p=d.pageNumber,h=d.pageSize,v=d.totalPageCount,x=d.toPage,b=Object(g.useState)({loading:!1}),y=m()(b,2),O=y[0],j=y[1],z=Object(g.useCallback)(function(){var e=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j({loading:!0}),e.next=3,x(t);case 3:j({loading:!1});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[x,j]);return w.a.createElement(E,null,w.a.createElement(C,i()({},s,{data:n,columns:t.map(function(e,t){return o()({Cell:e.Cell?e.Cell:A,Header:e.title,id:e.key,accessor:e.key},e.widthRange?{minWidth:e.widthRange[0],maxWidth:e.widthRange[1]}:{},e.filter?{filterMethod:"function"===typeof e.filter?e.filter:function(t,n){t.id;var a=t.value;return Object(k.a)(n,a,{keys:[e.key]})},filterAll:!0}:{filterable:!1})})},a?{manual:!0,page:p,pageSize:h,pages:v,onPageChange:z}:{},{filterable:!0,showPageSizeOptions:!!r,loading:O.loading||l,previousText:"\u4e0a\u4e00\u9875",nextText:"\u4e0b\u4e00\u9875",loadingText:"\u6b63\u5728\u52a0\u8f7d",noDataText:"\u65e0\u6570\u636e",pageText:"\u9875\u6570",ofText:"\u603b\u5171",rowsText:"\u884c"})))}n.d(t,"a",function(){return y});var E=h.a.div.withConfig({displayName:"DataTable___DataTable",componentId:"sc-184mkp0-0"})(["position:relative;background-color:#ffffff;box-shadow:0px 0px 8px #b0b0b0;"]),C=Object(h.a)(v.a).withConfig({displayName:"DataTable___ReactTable",componentId:"sc-184mkp0-1"})(["width:100%;height:100%;"]),O=function(e){return function(t){return w.a.createElement(x.a,null,function(){return w.a.createElement("span",null,e(t))})}},A=O(function(e){return w.a.createElement("span",{style:{color:e.original[e.column.id]?"#000":"#A9A9A9"}},b(e.original[e.column.id])?"\u65e0":e.original[e.column.id])});O(function(e){return w.a.createElement("div",{style:{color:e.original[e.column.id]?"#000":"#A9A9A9"},contentEditable:!0},b(e.original[e.column.id])?"\u65e0":e.original[e.column.id])})},477:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a=n(133),i=n.n(a),r=n(63),o=n.n(r),l=n(64),c=n.n(l),s=n(65),u=n.n(s),d=n(66),m=n.n(d),p=n(68),f=n.n(p),h=n(67),g=n.n(h),w=n(0),v=n(55),x=n.n(v),b=n(131),k=function(e){function t(e){var n;return o()(this,t),(n=u()(this,m()(t).call(this,e))).state={display:"none"},n.show=n.show.bind(f()(n)),n.hide=n.hide.bind(f()(n)),n}return g()(t,e),c()(t,[{key:"show",value:function(){this.setState(function(e){return i()({},e,{display:"flex"})})}},{key:"hide",value:function(){this.setState(function(e){return i()({},e,{display:"none"})})}},{key:"render",value:function(){var e=this;return w.createElement(y,{style:i()({display:this.state.display},this.props.zIndex?{zIndex:this.props.zIndex}:{}),onClick:function(t){t.preventDefault(),t.stopPropagation(),e.hide()}},w.createElement("div",{style:{width:"100%"}},w.createElement("div",{className:"shadow",style:{width:this.props.width,height:"fit-content",backgroundColor:"#ffffff",position:"relative",padding:"1em",marginTop:.1*window.innerHeight,marginLeft:"auto",marginRight:"auto",marginBottom:.1*window.innerHeight},onClick:function(e){e.preventDefault(),e.stopPropagation()}},w.createElement("div",{className:"close-x",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.hide()}},w.createElement("a",null,"\xd7")),this.props.children)))}}],[{key:"show",value:function(e,n,a){t.nextId++;var i=window.document,r=i.getElementById("fc-modal-yndhsjfcuh"+t.nextId);r||((r=i.createElement("div")).id="fc-modal-yndhsjfcuh"+t.nextId,i.getElementsByTagName("body")[0].appendChild(r));var o=this;return x.a.render(w.createElement(t,{width:n,ref:function(e){return o.modal=e},zIndex:a},e),r,function(){o.modal.show()}),function(){o.modal&&o.modal.hide(),setTimeout(function(){x.a.unmountComponentAtNode(r),setTimeout(function(){r.parentElement.removeChild(r)},300)},300)}}}]),t}(w.Component);k.nextId=0;var y=b.a.div.withConfig({displayName:"Modal___Modal",componentId:"sc-1lq5fhq-0"})(["overflow:auto;width:100%;height:100%;position:fixed;left:0;top:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,0.5);.shadow{-moz-box-shadow:0px 0px 20px #333333;-webkit-box-shadow:0px 0px 20px #333333;box-shadow:0px 0px 20px #333333;}.close-x{position:absolute;right:0;top:0;width:30px;height:30px;color:#aaaaaa;font-size:30px;display:flex;justify-content:center;align-items:center;z-index:100000000;}"])},891:function(e,t,n){"use strict";n.r(t);n(463);var a=n(469),i=(n(475),n(505)),r=n(468),o=n.n(r),l=n(21),c=n.n(l),s=(n(460),n(461)),u=n(47),d=n.n(u),m=n(0),p=n.n(m),f=n(448),h=n(457),g=n(462),w=n(62),v=n(459),x=n(131),b=n(477),k=Object(f.b)(function(e){e.children;var t=Object(f.c)({rows:[]});Object(m.useEffect)(function(){d()(c.a.mark(function e(){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.a.loading("\u6b63\u5728\u52a0\u8f7d\u6570\u636e",0),e.next=3,g.a.allWName();case 3:"ok"===(a=e.sent).state?t.rows=Object(w.e)(a.list):s.a.error(a.msg),n();case 6:case"end":return e.stop()}},e)}))()},[]);var n=Object(m.useCallback)(function(e){return d()(c.a.mark(function t(){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=function(){var t=Object(m.useRef)(null),n=Object(m.useState)(!1),l=o()(n,2),u=l[0],f=l[1];return p.a.createElement(C,null,p.a.createElement("div",null,p.a.createElement("span",null,"\u7f16\u7801\uff1a"),p.a.createElement("b",null,e.No)),p.a.createElement("div",null,p.a.createElement("span",null,"\u59d3\u540d\uff1a"),p.a.createElement("b",null,e.workname)),p.a.createElement("div",null,p.a.createElement("span",null,"\u4fee\u6539\u4e3a\uff1a"),p.a.createElement(i.a,{ref:t,style:{maxWidth:"8rem"}}),p.a.createElement(a.a,{style:{marginLeft:"1rem"},type:"primary",loading:u,onClick:d()(c.a.mark(function n(){var a,i;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a=t.current).input.value.trim()){n.next=10;break}return f(!0),n.next=5,g.a.updateWName(e.Id,a.input.value.trim());case 5:"ok"===(i=n.sent).state?(e.A1=e.workname=a.input.value.trim(),s.a.success("\u4fee\u6539\u6210\u529f"),r()):s.a.error(i.msg),f(!1),n.next=11;break;case 10:s.a.warn("\u8bf7\u8f93\u5165\u59d3\u540d");case 11:case"end":return n.stop()}},n)}))},"\u63d0\u4ea4")))},r=b.a.show(p.a.createElement(n,null),"75%");case 2:case"end":return t.stop()}},t)}))},[]);return p.a.createElement(h.a,null,p.a.createElement(E,{onAddOk:function(e){return t.rows.push(e)}}),p.a.createElement(v.a,{columnList:[{title:"\u64cd\u4f5c",key:"Id",Cell:function(e,t){return p.a.createElement(a.a.Group,null,p.a.createElement(a.a,{size:"small",onClick:n(e.original)},"\u4fee\u6539\u59d3\u540d"))}},{title:"\u7f16\u7801",key:"No",filter:!0},{title:"\u5458\u5de5\u59d3\u540d",key:"workname",filter:!0},{title:"A1",key:"A1",filter:!0},{title:"A2",key:"A2",filter:!0},{title:"A3",key:"A3",filter:!0}],rows:t.rows.slice(),pageSize:10}))});t.default=k;var y=x.a.div.withConfig({displayName:"WorkerName___Actions",componentId:"sc-1sbs924-0"})(["margin-bottom:1rem;display:flex;"]),E=Object(f.b)(function(e){var t=e.onAddOk,n=Object(f.c)({name:"",adding:!1}),r=Object(m.useCallback)(d()(c.a.mark(function e(){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.adding=!0,e.next=3,g.a.addWName(n.name);case 3:"ok"===(a=e.sent).state?(t(a.wname),s.a.success("\u6dfb\u52a0\u6210\u529f"),n.name=""):s.a.error(a.msg),n.adding=!1;case 6:case"end":return e.stop()}},e)})),[]);return p.a.createElement(y,null,p.a.createElement(i.a,{placeholder:"\u65b0\u589e\u5458\u5de5\u59d3\u540d",value:n.name,onChange:function(e){return n.name=e.target.value},style:{maxWidth:"16rem"}}),p.a.createElement(a.a,{onClick:r,loading:n.adding,disabled:!n.name.trim(),style:{marginLeft:"1rem"}},"\u6dfb\u52a0"))}),C=x.a.div.withConfig({displayName:"WorkerName___Update",componentId:"sc-1sbs924-1"})(["padding:1rem;"])}}]);